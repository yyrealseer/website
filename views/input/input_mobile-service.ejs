<header id="mobile-navigation">
    <img id="navigation-icon-closed" style="height:40px; z-index: 3;" src="/ICON/Arrow-Left.png">
    <div class="mobile-navigation-container" id="mobile-navigation-container-closed">
        <div class="直立分頁" id="mobile-navigation-list">
            <a href="/production">
                <%= t('service.beat_special') %>
            </a>
            <a href="/mixing">
                <%= t('service.mixing') %>
            </a>
            <a href="/arrange">
                <%= t('service.arranging') %>
            </a>
            <a href="/course">
                <%= t('service.demo_course') %>
            </a>
        </div>
    </div>
</header>

<style>
    #mobile-navigation {
        display: none;
    }

    @media (max-width: 767px) {
        #mobile-navigation {
            display: block;
            height: var(--LOGO-height);
            width: 0%;
            padding: 9px 0px;
            z-index: 2;
            position: fixed;
        }

        #mobile-navigation-container-closed {
            width: 100%;
            height: 9%;
            padding: 9px 0px;
            position: fixed;
            z-index: 2;
            right: -35%;
            transition: transform 330ms cubic-bezier(0.51, 0.16, 0.53, 0.87);
            transform: translateX(50px) rotate(90deg);
        }

        #mobile-navigation-container {
            width: 100%;
            height: 9%;
            padding: 9px 0px;
            position: fixed;
            z-index: 2;
            right: -35%;
            transition: transform 330ms cubic-bezier(0.51, 0.16, 0.53, 0.87);
            transform: translateX(0px) rotate(90deg);
        }

        #mobile-navigation-list {
            position: absolute;
            top: 0;
            width: 100vh;
            padding-left: 35vh;
        }

        #mobile-navigation-list button {
            padding: 0 4%;
            font-size: 23px;
            text-shadow: 2px 2px 6px #000000ba;
            background-color: #faebd700;
            border: #0d2a3b;
        }

        #navigation-icon-closed {
            position: fixed;
            right: 1%;
            top: 36%;
            z-index: 2;
            transition: transform 330ms cubic-bezier(0.51, 0.16, 0.53, 0.87);
            transform: translateX(0);
        }

        #navigation-icon {
            position: fixed;
            right: 1%;
            top: 36%;
            z-index: 2;
            transition: transform 330ms cubic-bezier(0.51, 0.16, 0.53, 0.87);
            transform: translateX(-50px);
        }
    }
</style>

<script>
    let navigationbtn = document.getElementById('navigation-icon-closed');
    let navigationlist = document.getElementById('mobile-navigation-container-closed');

    let navigationflag = false
    navigationbtn.onclick = function () {
        navigationflag = !navigationflag;
        if (navigationflag) {
            navigationlist.id = 'mobile-navigation-container';
            navigationbtn.id = 'navigation-icon';
        }
        else {
            navigationlist.id = 'mobile-navigation-container-closed';
            navigationbtn.id = 'navigation-icon-closed';
        }
    };

    addEventListener('scroll', function () {
        navigationlist.id = 'mobile-navigation-container-closed';
        navigationbtn.id = 'navigation-icon-closed';
        navigationflag = false;
    });
</script>